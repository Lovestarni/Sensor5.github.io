<!-- udacimak v1.4.4 -->
<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta content="ie=edge" http-equiv="X-UA-Compatible"/>
  <title>
   Fast Fourier Transform (FFT)
  </title>
  <link href="../assets/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="../assets/css/plyr.css" rel="stylesheet"/>
  <link href="../assets/css/katex.min.css" rel="stylesheet"/>
  <link href="../assets/css/jquery.mCustomScrollbar.min.css" rel="stylesheet"/>
  <link href="../assets/css/styles.css" rel="stylesheet"/>
  <link href="../assets/img/udacimak.png" rel="shortcut icon" type="image/png">
  </link>
 </head>
 <body>
  <div class="wrapper">
   <nav id="sidebar">
    <div class="sidebar-header">
     <h3>
      Range-Doppler Estimation
     </h3>
    </div>
    <ul class="sidebar-list list-unstyled CTAs">
     <li>
      <a class="article" href="../index.html">
       Back to Home
      </a>
     </li>
    </ul>
    <ul class="sidebar-list list-unstyled components">
     <li class="">
      <a href="01. Range, Velocity, and Angle Resolution.html">
       01. Range, Velocity, and Angle Resolution
      </a>
     </li>
     <li class="">
      <a href="02. Range Estimation.html">
       02. Range Estimation
      </a>
     </li>
     <li class="">
      <a href="03. Doppler Estimation.html">
       03. Doppler Estimation
      </a>
     </li>
     <li class="">
      <a href="04. Fast Fourier Transform (FFT).html">
       04. Fast Fourier Transform (FFT)
      </a>
     </li>
     <li class="">
      <a href="05. The 2D FFT.html">
       05. The 2D FFT
      </a>
     </li>
     <li class="">
      <a href="06. What Kind of Math Do Radar Engineers Use.html">
       06. What Kind of Math Do Radar Engineers Use?
      </a>
     </li>
    </ul>
    <ul class="sidebar-list list-unstyled CTAs">
     <li>
      <a class="article" href="../index.html">
       Back to Home
      </a>
     </li>
    </ul>
   </nav>
   <div id="content">
    <header class="container-fluild header">
     <div class="container">
      <div class="row">
       <div class="col-12">
        <div class="align-items-middle">
         <button class="btn btn-toggle-sidebar" id="sidebarCollapse" type="button">
          <div>
          </div>
          <div>
          </div>
          <div>
          </div>
         </button>
         <h1 style="display: inline-block">
          04. Fast Fourier Transform (FFT)
         </h1>
        </div>
       </div>
      </div>
     </div>
    </header>
    <main class="container">
     <div class="row">
      <div class="col-12">
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <h1 id="fast-fourier-transform-fft">
          Fast Fourier Transform (FFT)
         </h1>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
         <p>
          L2A27 Fast Fourier Transform - Concept V2
         </p>
        </h3>
        <video controls="">
         <source src="04. L2A27 Fast Fourier Transform - Concept V2-hmU0w8yAM40.mp4" type="video/mp4"/>
         <track default="true" kind="subtitles" label="en" src="04. L2A27 Fast Fourier Transform - Concept V2-hmU0w8yAM40.en.vtt" srclang="en"/>
        </video>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <h2 id="fft-overview">
          FFT Overview
         </h2>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
         <p>
          ND313 Andrei Intv 16 What Is A Fast Fourier Transform
         </p>
        </h3>
        <video controls="">
         <source src="04. ND313 Andrei Intv 16 What Is A Fast Fourier Transform-aPd52NPB9gc.mp4" type="video/mp4"/>
         <track default="true" kind="subtitles" label="en" src="04. ND313 Andrei Intv 16 What Is A Fast Fourier Transform-aPd52NPB9gc.en.vtt" srclang="en"/>
        </video>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <p>
          So far we discussed the theory of range and doppler estimation along with the equations to calculate them. But, for a radar to efficiently process these measurements digitally, the signal needs to be converted from analog to digital domain and further from time domain to frequency domain.
         </p>
         <p>
          ADC (Analog Digital Converter) converts the analog signal into digital. But, post ADC the Fast Fourier Transform is used to convert the signal from time domain to frequency domain. Conversion to frequency domain is important to do the spectral analysis of the signal and determine the shifts in frequency due to range and doppler.
         </p>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
         <p>
          Fast Fourier Transform
         </p>
        </h3>
        <div>
         <figure class="figure">
          <img alt="Time Domain to Frequency Domain Conversion using FFT. 

source : mriquestions.com" class="img img-fluid" src="img/image22.png"/>
          <figcaption class="figure-caption">
           <p>
            Time Domain to Frequency Domain Conversion using FFT.
           </p>
           <p>
            source : mriquestions.com
           </p>
          </figcaption>
         </figure>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <p>
          The traveling signal is in time domain. Time domain signal comprises of multiple frequency components as shown in the image above. In order to separate out all frequency components the FFT technique is used.
         </p>
         <p>
          For the purpose of this course we don’t have to get into mathematical details of FFT. But, it is important to understand the use of FFT in radar’s digital signal processing. It gives the frequency response of the return signal with each peak in frequency spectrum representing the detected target’s chararcterstics.
         </p>
         <p>
          Learn more on FFT implementation
          <a href="https://www.youtube.com/watch?v=t_NMmqTRPIY&amp;feature=youtu.be" rel="noopener noreferrer" target="_blank">
           here
          </a>
          .
         </p>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <h2 id="fft-and-fmcw">
          FFT and FMCW
         </h2>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
         <p>
          L2 Output Range FFT Connected To FFT Concept From Day 1
         </p>
        </h3>
        <video controls="">
         <source src="04. L2 Output Range FFT Connected To FFT Concept From Day 1-_TEpBTUmjV4.mp4" type="video/mp4"/>
         <track default="true" kind="subtitles" label="en" src="04. L2 Output Range FFT Connected To FFT Concept From Day 1-_TEpBTUmjV4.en.vtt" srclang="en"/>
        </video>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <figure class="figure">
          <img alt="Fast Fourier Transform

source : Texas Instruments" class="img img-fluid" src="img/image16.png"/>
          <figcaption class="figure-caption">
           <p>
            Fast Fourier Transform
           </p>
           <p>
            source : Texas Instruments
           </p>
          </figcaption>
         </figure>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
         <p>
          Range FFTs
         </p>
        </h3>
        <div>
         <p>
          As seen in the image below, the Range FFTs are run for every sample on each chirp. Since each chirp is sampled N times, it will generate a range FFT block of N * (Number of chirps). These FFT blocks are also called FFT bins.
         </p>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <figure class="figure">
          <img alt="Range FFT 

source : Delft University of Technology" class="img img-fluid" src="img/image1.png"/>
          <figcaption class="figure-caption">
           <p>
            Range FFT
           </p>
           <p>
            source : Delft University of Technology
           </p>
          </figcaption>
         </figure>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <p>
          Each chirp is sampled N times, and for each sample it produces a range bin. The process is repeated for every single chirp. Hence creating a FFT block of N*(Number of chirps).
         </p>
         <p>
          Each bin in every column of  block represents increasing range value, so that the end of last bin represents the maximum range of a radar.
         </p>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
         <p>
          Graphic
         </p>
        </h3>
        <div>
         <figure class="figure">
          <img alt="Output of Range FFT in MATLAB. 
X-axis = Beat Frequency,
Y-axis = Signal power in dBm" class="img img-fluid" src="img/image11.png"/>
          <figcaption class="figure-caption">
           <p>
            Output of Range FFT in MATLAB.
            <br/>
            X-axis = Beat Frequency,
            <br/>
            Y-axis = Signal power in dBm
           </p>
          </figcaption>
         </figure>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
         <p>
          Output of Range FFT
         </p>
        </h3>
        <div>
         <p>
          Above is the output of the 1st stage FFT (i.e Range FFT). The three peaks in the frequency domain corresponds to the beat frequencies of three different cars located at 150, 240 and 300 m range from the ego vehicle.
         </p>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <h2 id="fast-fourier-transform-exercise">
          Fast Fourier Transform Exercise
         </h2>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
         <p>
          Steps to Implement Range FFT
         </p>
        </h3>
        <div>
         <p>
          In the following exercise, you will use a Fourier transform to find the frequency components of a signal buried in noise. Specify the parameters of a signal with a sampling frequency of 1 kHz and a signal duration of 1.5 seconds.
         </p>
         <p>
          To implement the 1st stage FFT, you can use the following steps:
         </p>
         <ol>
          <li>
           Define a signal. In this case (amplitude = A, frequency = f)
          </li>
         </ol>
         <pre><code>signal = A*cos(2*pi*f*t)</code></pre>
         <ol start="2">
          <li>
           Run the fft for the signal using MATLAB fft function for dimension of samples N.
          </li>
         </ol>
         <pre><code>signal_fft = fft(signal,N);</code></pre>
         <ol start="3">
          <li>
           The output of FFT processing of a signal is a complex number (a+jb). Since, we just care about the                        magnitude we take the absolute value (sqrt(a^2+b^2)) of the complex number.
          </li>
         </ol>
         <pre><code>signal_fft = abs(signal_fft);</code></pre>
         <ol start="4">
          <li>
           FFT output generates a mirror image of the signal. But we are only interested in the positive half of signal length L, since it is the replica of negative half and has all the information we need.
          </li>
         </ol>
         <pre><code>signal_fft  = signal_fft(1:L/2-1)       </code></pre>
         <ol start="5">
          <li>
           Plot this output against frequency.
          </li>
         </ol>
         <p>
          You can use the following MATLAB starter code:
         </p>
         <pre><code class="matlab language-matlab">Fs = 1000;            % Sampling frequency                    
T = 1/Fs;             % Sampling period       
L = 1500;             % Length of signal
t = (0:L-1)*T;        % Time vector

% TODO: Form a signal containing a 77 Hz sinusoid of amplitude 0.7 and a 43Hz sinusoid of amplitude 2.
S = ?

% Corrupt the signal with noise 
X = S + 2*randn(size(t));

% Plot the noisy signal in the time domain. It is difficult to identify the frequency components by looking at the signal X(t). 
plot(1000*t(1:50) ,X(1:50))
title('Signal Corrupted with Zero-Mean Random Noise')
xlabel('t (milliseconds)')
ylabel('X(t)')

% TODO : Compute the Fourier transform of the signal. 

% TODO : Compute the two-sided spectrum P2. Then compute the single-sided spectrum P1 based on P2 and the even-valued signal length L.


% Plotting
f = Fs*(0:(L/2))/L;
plot(f,P1) 
title('Single-Sided Amplitude Spectrum of X(t)')
xlabel('f (Hz)')
ylabel('|P1(f)|')</code></pre>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <h2 id="solution">
          Solution
         </h2>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
         <p>
          L2 Workspace
         </p>
        </h3>
        <video controls="">
         <source src="04. L2 Workspace-Tic3xmsEg_A.mp4" type="video/mp4"/>
         <track default="true" kind="subtitles" label="en" src="04. L2 Workspace-Tic3xmsEg_A.en.vtt" srclang="en"/>
        </video>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <h2 id="doppler-estimation-further-research">
          Doppler Estimation Further Research
         </h2>
         <p>
          For additional resources related to FFT, see these
          <a href="www.phys.nsu.ru/cherk/fft.pdf" rel="noopener noreferrer" target="_blank">
           lecture notes
          </a>
          .
         </p>
        </div>
       </div>
       <div class="divider">
       </div>
      </div>
      <div class="col-12">
       <p class="text-right">
        <a class="btn btn-outline-primary mt-4" href="05. The 2D FFT.html" role="button">
         Next Concept
        </a>
       </p>
      </div>
     </div>
    </main>
    <footer class="footer">
     <div class="container">
      <div class="row">
       <div class="col-12">
        <p class="text-center">
         udacity2.0 If you need the newest courses Plase add me wechat: udacity6
        </p>
       </div>
      </div>
     </div>
    </footer>
   </div>
  </div>
  <script src="../assets/js/jquery-3.3.1.min.js">
  </script>
  <script src="../assets/js/plyr.polyfilled.min.js">
  </script>
  <script src="../assets/js/bootstrap.min.js">
  </script>
  <script src="../assets/js/jquery.mCustomScrollbar.concat.min.js">
  </script>
  <script src="../assets/js/katex.min.js">
  </script>
  <script>
   // Initialize Plyr video players
    const players = Array.from(document.querySelectorAll('video')).map(p => new Plyr(p));

    // render math equations
    let elMath = document.getElementsByClassName('mathquill');
    for (let i = 0, len = elMath.length; i < len; i += 1) {
      const el = elMath[i];

      katex.render(el.textContent, el, {
        throwOnError: false
      });
    }

    // this hack will make sure Bootstrap tabs work when using Handlebars
    if ($('#question-tabs').length && $('#user-answer-tabs').length) {
      $("#question-tabs a.nav-link").on('click', function () {
        $("#question-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
      $("#user-answer-tabs a.nav-link").on('click', function () {
        $("#user-answer-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
    } else {
      $("a.nav-link").on('click', function () {
        $(".tab-pane").hide();
        $($(this).attr("href")).show();
      });
    }

    // side bar events
    $(document).ready(function () {
      $("#sidebar").mCustomScrollbar({
        theme: "minimal"
      });

      $('#sidebarCollapse').on('click', function () {
        $('#sidebar, #content').toggleClass('active');
        $('.collapse.in').toggleClass('in');
        $('a[aria-expanded=true]').attr('aria-expanded', 'false');
      });

      // scroll to first video on page loading
      if ($('video').length) {
        $('html,body').animate({ scrollTop: $('div.plyr').prev().offset().top});
      }

      // auto play first video: this may not work with chrome/safari due to autoplay policy
      if (players && players.length > 0) {
        players[0].play();
      }

      // scroll sidebar to current concept
      const currentInSideBar = $( "ul.sidebar-list.components li a:contains('04. Fast Fourier Transform (FFT)')" )
      currentInSideBar.css( "text-decoration", "underline" );
      $("#sidebar").mCustomScrollbar('scrollTo', currentInSideBar);
    });
  </script>
 </body>
</html>
